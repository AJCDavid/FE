<div class="container p-4">
    <div class="row">
        
    <div class="card">
                <div class="card-body">
                    <form action="/comparativas/busqueda" method="POST">
                    <label for="fechainicio">Fecha Inicio:</label>
                        <input type="date" id="fechainicio" name="fechainicio"
                        value="2021-01-01"
                        min="2020-01-01" max="2021-02-01">

                        <label for="fechafin">Fecha Fin:</label>
                        <input type="date" id="fechafin" name="fechafin"
                        value="2020-01-01"
                        min="2021-01-01" max="2021-02-01">

                        <select class="form-control" name="nombreusuario">
                            {{#each usuarios}}
                                <option value="{{this.nombreusuario}}" >{{this.nombreusuario}}</option>
                            {{/each}}
                        </select>    
                        <div class="form-group">
                            <button class="btn btn-success btn-block">
                                Buscar2
                            </button>
                        </div>
                    </div>
                    
                        
                    </form>
                    
                    <script>
                        
                        const productos = [
                            {nombreusuario: 'QATAR', nombrecompleto: 'visa'},
                            {nombreusuario: 'QATAR', nombrecompleto: 'visa'},
                            {nombreusuario: 'QATAR',  nombrecompleto: 'visa'},
                            {nombreusuario: 'Guadalajara',  nombrecompleto: 'Mastercard'}
                        ]

                        const formulario = document.querySelector('#formulario');
                        //const elementoBoton = document.querySelector('#elementoBoton');
                        //elementoBoton.innerHTML = `<button class="btn btn-info mb-2" id="boton" href="/transaccion/buscar/${formulario.value.toLowerCase()}>Buscar11</button>`;
                        const boton = document.querySelector('#boton');
                        const resultado = document.querySelector('#resultado');

                        const filtrar = ()=>{
                            resultado.innerHTML = '';
                            const texto = formulario.value.toLowerCase();
                            for(let producto of productos){
                                let nombre = producto.nombreusuario.toLowerCase();
                                if(nombre.indexOf(texto) !== -1){
                                    resultado.innerHTML += `
                                        <li>${producto.nombreusuario} - ${producto.nombreusuario}</li>
                                    `
                                    
                                }
                            }
                            if(resultado.innerHTML ===''){
                                resultado.innerHTML += `
                                    <li>Producto no encontrado..</li>
                                `
                            }
                        }

                        boton.addEventListener('click',filtrar);
                    </script>
                </div>
                </div>
                </div>
                
                
</div>